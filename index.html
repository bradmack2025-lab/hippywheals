<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Wheels</title>
<script src="https://unpkg.com/@ruffle-rs/ruffle"></script>
<style>
html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    background: #000;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
}

#ruffle-container {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
}

#player-wrapper {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
</style>
</head>
<body>
<div id="ruffle-container">
    <div id="player-wrapper"></div>
</div>

<script>
const container = document.getElementById("player-wrapper");
const ruffle = window.RufflePlayer.newest();
const player = ruffle.createPlayer();
container.appendChild(player);

// Load the SWF
player.load("HappyWheels.swf");

function resizeGame() {
    const windowWidth = window.innerWidth;
    const windowHeight = window.innerHeight;
    const aspectRatio = 16 / 9; // desired aspect ratio

    let width = windowWidth;
    let height = windowWidth / aspectRatio;

    if (height < windowHeight) {
        height = windowHeight;
        width = height * aspectRatio;
    }

    player.style.width = width + "px";
    player.style.height = height + "px";
}

window.addEventListener("resize", resizeGame);
window.addEventListener("load", resizeGame);

// Click anywhere to fullscreen
document.body.addEventListener("click", () => {
    if (document.fullscreenEnabled && !document.fullscreenElement) {
        document.documentElement.requestFullscreen();
    }
});
</script>
</body>
</html>
